<ApplicationDef>
	<Application>
		<Name>Yandex Team Messenger (User-x86)</Name>
		<Description>Messenger for working communication, simple and secure. Finally, it is possible to communicate with all colleagues in one application, without switching between messengers and not remembering each time who and where is better to write.</Description>
		<LocalizedName>Yandex Team Messenger (User-x86)</LocalizedName>
		<Publisher>Yandex</Publisher>
		<AdminDescription>CMPackager build</AdminDescription>
		<AutoInstall>False</AutoInstall>
		<UserDocumentation>https://yandex.com/support/messenger/</UserDocumentation>
		<OptionalReference>https://yndx-infrawin.gitlab.yandexcloud.net/INFRAWIN/infrawin_automation_scripts/-/tree/master/SCCM/CMPackager/Recipes</OptionalReference>
		<!-- LinkText - [String] Specifies a description that appears in the Application Catalog with a hyperlink to additional information or documentation for the application. -->
		<!-- PrivacyUrl - [String] Hyperlink, in URI format, to privacy information about the application. -->
		<!-- Owner - [String] Owner for Application -->
		<!-- SupportContact - [String] Support Contact for Application -->
		<Icon>YandexTeamMessenger.png</Icon>
		<!-- AdminCategories - [String] Comma Delimited Categories in the Console -->
		<!-- UserCategories - [String] Comma Delimited Categories for Software Center -->
		<Keywords>messenger;ymessenger;yamessenger;message;Ятим</Keywords>
		<!-- FeaturedApplication - [Boolean] Display as a Featured Application and Hightlight in the Company Portal -->
		<!-- DisplaySupersedence - [Boolean] Allows Users to See Deployments Superceded Appplications in Software Center -->
		<FolderPath>CMPackager</FolderPath>
		<FilterFolderPath>True</FilterFolderPath> <!-- FilterFolderPath - [Boolean] Search/Update/Supersiding application only in FolderPath folder -->
		<FullName/>
		<LatestName>Yandex Team Messenger (User-x86) - Latest</LatestName>
	</Application>
	<Downloads>
		<Download DeploymentType="DeploymentType1">
			<URL>https://download.messenger.yandex-team.ru/desktop/latest?platform=win</URL>
			<DownloadFileName>Yandex_Team_Messenger_Setup.exe</DownloadFileName>
			<Version></Version>
			<FullVersion></FullVersion>
			<DownloadVersionCheck>$Version = ((Get-item $TempDir\$DownloadFileName).VersionInfo.FileVersion).Trim()</DownloadVersionCheck>
			<!--<AppRepoFolder>x64</AppRepoFolder>-->
			<ExtraCopyFunctions/>
		</Download>
	</Downloads>
	<DeploymentTypes>
		<DeploymentType Name="DeploymentType1">
			<DeploymentTypeName>Yandex Team Messenger (x86) user level</DeploymentTypeName>
			<InstallationType>Script</InstallationType>
			<CacheContent>False</CacheContent>
			<BranchCache>True</BranchCache>
			<ContentFallback>True</ContentFallback>
			<OnSlowNetwork>Download</OnSlowNetwork>
			<InstallProgram>Yandex_Team_Messenger_Setup.exe /currentuser /S</InstallProgram>
			<UninstallCmd>cmd /c TASKKILL /F /IM &quot;Yandex Team Messenger.exe&quot; /T &amp; &quot;%LOCALAPPDATA%\Programs\Q\Uninstall Yandex Team Messenger.exe&quot; /currentuser /S &amp;&amp; TIMEOUT /T 10</UninstallCmd>
			<Force32bit>True</Force32bit>
			<InstallationBehaviorType>InstallForUser</InstallationBehaviorType>
			<UninstallOption>NoneRequired</UninstallOption>
			<UserInteractionMode>Hidden</UserInteractionMode>
			<EstRuntimeMins>10</EstRuntimeMins>
			<MaxRuntimeMins>30</MaxRuntimeMins>
			<RebootBehavior>BasedOnExitCode</RebootBehavior>
			<DetectionMethodType>Custom</DetectionMethodType>
			<CustomDetectionMethods>
				<DetectionClause>
					<DetectionClauseType>RegistryKeyValue</DetectionClauseType>
					<Hive>CurrentUser</Hive>
					<KeyName>SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\a38394e8-f86c-5ada-a0f6-93f36b2a74bf</KeyName>
					<ValueName>DisplayVersion</ValueName>
					<PropertyType>Version</PropertyType>
					<ExpressionOperator>GreaterEquals</ExpressionOperator>
					<ExpectedValue>$Version</ExpectedValue>
					<Value>True</Value>
					<Is64Bit>True</Is64Bit>
				</DetectionClause>
			</CustomDetectionMethods>
<!--
			<RequirementsRules>
				<RequirementsRule>
					<RequirementsRuleType>Existential</RequirementsRuleType>
					<RequirementsRuleValue>
						<RuleValue>True</RuleValue>
					</RequirementsRuleValue>
					<RequirementsRuleGlobalCondition>AutoPackage - OSArchitecture x64</RequirementsRuleGlobalCondition>
				</RequirementsRule>
			</RequirementsRules>
-->
		</DeploymentType>
	</DeploymentTypes>
	<Distribution>
		<DistributeContent>True</DistributeContent>
	</Distribution>
	<Supersedence>
		<Supersedence>True</Supersedence>
		<Uninstall>False</Uninstall>
		<CleanupSuperseded>True</CleanupSuperseded>
		<KeepSuperseded>2</KeepSuperseded>
	</Supersedence>
	<Deployment>
		<DeploySoftware>True</DeploySoftware>
	</Deployment>
</ApplicationDef>